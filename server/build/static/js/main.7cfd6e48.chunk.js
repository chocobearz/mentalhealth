(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{257:function(e,t,a){e.exports=a(445)},262:function(e,t,a){},263:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},264:function(e,t,a){},444:function(e,t,a){e.exports=a.p+"static/media/logo.dd8020ab.png"},445:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(14),i=a.n(o),l=(a(262),a(263),a(264),a(21)),c=a(22),s=a(25),u=a(24),p="#735D78",m="#F7D1CD",h="#D1B3C4",g=a(501),d=a(487),f=a(488),b=a(489),y=a(192),E=a.n(y),v=a(194),S=a.n(v),w=a(193),x=a.n(w),j=a(195),k=a.n(j),C=a(482),O=a(485),T=a(486),A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onNavClick=function(){n.props.onNavClick(n.props.id)},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(C.a,{button:!0,onClick:this.onNavClick},r.a.createElement(O.a,null," ",this.props.icon," "),r.a.createElement(T.a,{primary:this.props.id}))}}]),a}(r.a.Component),N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){n.setState({navOpen:!n.state.navOpen})},n.handleClose=function(){},n.onNavClick=function(e){n.props.changeNavPage(e),n.setState({navOpen:!1})},n.toggleAnalysis=function(){n.props.toggleOpenAnalysisTab(),n.setState({navOpen:!1})},n.state={navOpen:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:D.navWrapper},r.a.createElement(d.a,{onClick:this.toggleDrawer},r.a.createElement(E.a,{fontSize:"large"})),r.a.createElement(g.a,{anchor:"left",open:this.state.navOpen,onClose:this.toggleDrawer},r.a.createElement(f.a,null,r.a.createElement(A,{id:"Journal",onNavClick:this.onNavClick,icon:r.a.createElement(x.a,null)}),r.a.createElement(A,{id:"Support Network",onNavClick:this.onNavClick,icon:r.a.createElement(S.a,null)})),r.a.createElement(b.a,null),r.a.createElement(f.a,null,r.a.createElement(A,{id:"Analysis",text:"Text Analysis",onNavClick:this.toggleAnalysis,icon:r.a.createElement(k.a,null)}))))}}]),a}(r.a.Component),D={navWrapper:{display:"flex",justifyContent:"flex-start"}},L=a(498),R=a(215),P=a(212),z=a(491),J=a(492),V=a(75),M=a(493),I=a(490),q=a(198),F=a.n(q),W=a(199),B=a.n(W),H=a(200),K=a.n(H),G=a(201),X=a.n(G),_=a(202),$=a.n(_),Q=a(197),U=a.n(Q),Y=a(500),Z=a(499),ee=a(494);function te(e){var t=re();return r.a.createElement(I.a,{onClose:ae,"aria-labelledby":"customized-dialog-title",open:e.dialogOpen},r.a.createElement(z.a,{id:"customized-dialog-title",onClose:ae},"How are you feeling right now?"),r.a.createElement(J.a,null,r.a.createElement(V.a,null,"This will help us personalize our app's ratings to your journaling style and increase prediction accuracy.")),r.a.createElement(Z.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(Y.a,{max:6,onChange:e.onRatingChange,classes:{iconFilled:t.iconFilled,iconHover:t.iconHover},name:"customized-icons",defaultValue:3,getLabelText:function(e){return oe[e].label},IconContainerComponent:ne})),r.a.createElement(M.a,null,r.a.createElement(d.a,{autoFocus:!0,onClick:e.onSubmit,color:"primary"},"Submit Rating")))}function ae(){}function ne(e){var t=e.value,a=Object(P.a)(e,["value"]);return r.a.createElement("span",a,oe[t].icon)}var re=Object(ee.a)({iconFilled:{color:"#735D78"},iconHover:{color:"#735D78"}}),oe={1:{icon:r.a.createElement(U.a,null),label:"Very Very Dissatisfied"},2:{icon:r.a.createElement(F.a,null),label:"Very Dissatisfied"},3:{icon:r.a.createElement(B.a,null),label:"Dissatisfied"},4:{icon:r.a.createElement(K.a,null),label:"Neutral"},5:{icon:r.a.createElement(X.a,null),label:"Satisfied"},6:{icon:r.a.createElement($.a,null),label:"Very Satisfied"}},ie=a(37);function le(e){var t=function(e){var t=e.cx,a=e.cy;e.stroke,e.payload;return e.value>0?r.a.createElement("svg",{x:t-10,y:a-10,width:20,height:20,fill:"#735D78",viewBox:"0 0 1024 1024"},r.a.createElement("path",{d:"M512 1009.984c-274.912 0-497.76-222.848-497.76-497.76s222.848-497.76 497.76-497.76c274.912 0 497.76 222.848 497.76 497.76s-222.848 497.76-497.76 497.76zM340.768 295.936c-39.488 0-71.52 32.8-71.52 73.248s32.032 73.248 71.52 73.248c39.488 0 71.52-32.8 71.52-73.248s-32.032-73.248-71.52-73.248zM686.176 296.704c-39.488 0-71.52 32.8-71.52 73.248s32.032 73.248 71.52 73.248c39.488 0 71.52-32.8 71.52-73.248s-32.032-73.248-71.52-73.248zM772.928 555.392c-18.752-8.864-40.928-0.576-49.632 18.528-40.224 88.576-120.256 143.552-208.832 143.552-85.952 0-164.864-52.64-205.952-137.376-9.184-18.912-31.648-26.592-50.08-17.28-18.464 9.408-21.216 21.472-15.936 32.64 52.8 111.424 155.232 186.784 269.76 186.784 117.984 0 217.12-70.944 269.76-186.784 8.672-19.136 9.568-31.2-9.12-40.096z"})):r.a.createElement("svg",{x:t-10,y:a-10,width:20,height:20,fill:"#735D78",viewBox:"0 0 1024 1024"},r.a.createElement("path",{d:"M517.12 53.248q95.232 0 179.2 36.352t145.92 98.304 98.304 145.92 36.352 179.2-36.352 179.2-98.304 145.92-145.92 98.304-179.2 36.352-179.2-36.352-145.92-98.304-98.304-145.92-36.352-179.2 36.352-179.2 98.304-145.92 145.92-98.304 179.2-36.352zM663.552 261.12q-15.36 0-28.16 6.656t-23.04 18.432-15.872 27.648-5.632 33.28q0 35.84 21.504 61.44t51.2 25.6 51.2-25.6 21.504-61.44q0-17.408-5.632-33.28t-15.872-27.648-23.04-18.432-28.16-6.656zM373.76 261.12q-29.696 0-50.688 25.088t-20.992 60.928 20.992 61.44 50.688 25.6 50.176-25.6 20.48-61.44-20.48-60.928-50.176-25.088zM520.192 602.112q-51.2 0-97.28 9.728t-82.944 27.648-62.464 41.472-35.84 51.2q-1.024 1.024-1.024 2.048-1.024 3.072-1.024 8.704t2.56 11.776 7.168 11.264 12.8 6.144q25.6-27.648 62.464-50.176 31.744-19.456 79.36-35.328t114.176-15.872q67.584 0 116.736 15.872t81.92 35.328q37.888 22.528 63.488 50.176 17.408-5.12 19.968-18.944t0.512-18.944-3.072-7.168-1.024-3.072q-26.624-55.296-100.352-88.576t-176.128-33.28z"}))};return r.a.createElement(ie.d,{width:750,height:250,data:e.data,margin:{top:20,right:20,bottom:5,left:0}},r.a.createElement(ie.a,{strokeDasharray:"5 5"}),r.a.createElement(ie.c,{type:"monotone",dataKey:"currentScore",stroke:"#3f2a42"}),r.a.createElement(ie.c,{type:"monotone",dataKey:"longTermScore",stroke:"#735D78",dot:r.a.createElement(t,null)}),r.a.createElement(ie.f,{dataKey:"date"}),r.a.createElement(ie.g,{domain:[-5,5]}),r.a.createElement(ie.e,null),r.a.createElement(ie.b,null))}var ce=a(27),se=a.n(ce),ue=a(64),pe="https://ink-well.herokuapp.com",me="https://language.googleapis.com/v1/documents:analyzeEntities";function he(){return(he=Object(ue.a)(se.a.mark((function e(t){var a,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(pe+"/journal/getSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ge(){return(ge=Object(ue.a)(se.a.mark((function e(t){var a,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(me+"?key=AIzaSyBt7uIyp2Lsmr37nCdce_8wVi389uJjmIc",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({document:{type:"PLAIN_TEXT",language:"EN",content:t}})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function de(){return(de=Object(ue.a)(se.a.mark((function e(t,a){var n,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(pe+"/journal/reWeightAndGetSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t,ratedScore:a})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",r);case 11:if(r.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(r.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function fe(){return(fe=Object(ue.a)(se.a.mark((function e(){var t,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(pe+"/journal/sendSMS",{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,!t.ok){e.next=11;break}return e.abrupt("return",a);case 11:if(a.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(a.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function be(){return(be=Object(ue.a)(se.a.mark((function e(t){var a,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(pe+"/journal/submitSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}var ye=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){clearTimeout(n.timer),n.setState({journalEntry:e.target.value}),n.timer=setTimeout(n.triggerChange,1e3)},n.handleKeyDown=function(e){13===e.keyCode&&n.triggerChange()},n.triggerChange=function(){n.textFieldChange()},n.textFieldChange=function(){n.fetchJournalScore(),n.fetchJournalEntities()},n.fetchJournalEntities=function(){var e=[];(function(e){return ge.apply(this,arguments)})(n.state.journalEntry).then((function(t){for(var a in t.entities).2<t.entities[a].salience&&t.entities[a].salience<.7&&e.push(t.entities[a].name);n.setState({entities:e})}),(function(e){}))},n.fetchJournalScore=function(){n.setState({loadingFetch:!0}),function(e){return he.apply(this,arguments)}(n.state.journalEntry).then((function(e){e.label>0?n.setState({labelText:"happy"}):e<-3?n.setState({labelText:"sad"}):n.setState({labelText:"crisis"}),n.setState({label:e.label,longtermScore:e.longtermScore}),n.setState({loadingFetch:!1})}),(function(e){}))},n.onSubmitRating=function(){(function(e){return be.apply(this,arguments)})(n.state.journalEntry).then((function(e){-3==e.label&&function(){fe.apply(this,arguments)}(),n.setState({label:e.label,longtermScore:e.longtermScore});var t={date:"28/07/2020",longTermScore:Math.round(e.longtermScore),currentScore:parseInt(e.label)},a=n.state.data;a.push(t),n.setState({data:a})}),(function(e){}))},n.onRatingChange=function(e,t){switch(t){case 1:n.setState({ratingLabel:"crisis"}),n.setState({ratingValue:-4});case 2:n.setState({ratingLabel:"sad"}),n.setState({ratingValue:-3});case 3:n.setState({ratingLabel:"sad"}),n.setState({ratingValue:-1});case 4:n.setState({ratingLabel:"sad"}),n.setState({ratingValue:0});case 5:n.setState({ratingLabel:"happy"}),n.setState({ratingValue:1});case 6:n.setState({ratingLabel:"happy"}),n.setState({ratingValue:3})}},n.openDialog=function(){n.setState({dialogOpen:!0})},n.fetchReWeight=function(){n.setState({dialogOpen:!1}),n.setState({loadingReweight:!0}),function(e,t){return de.apply(this,arguments)}(n.state.journalEntry,n.state.ratingValue).then((function(e){e.journalScore>0?n.setState({calculatedText:"happy"}):e<-3?n.setState({calculatedText:"sad"}):n.setState({calculatedText:"crisis"}),n.setState({personalRatedScore:e.currentScore}),n.setState({calculatedScore:e.journalScore}),n.setState({weights:e.weights}),n.setState({loadingReweight:!1})}),(function(e){}))},n.state={journalEntry:"",label:0,labelText:"",entities:[],weights:[],ratingValue:3,ratingLabel:"",dialogOpen:!1,personalRatedScore:"",calculatedScore:"",calculatedText:"",loadingReweight:!1,loadingFetch:!1,data:[{date:"20/07/2020",longTermScore:-1,currentScore:1},{date:"22/07/2020",longTermScore:1,currentScore:1},{date:"23/07/2020",longTermScore:-5,currentScore:-3},{date:"25/07/2020",longTermScore:-3,currentScore:1}]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.timer=null}},{key:"render",value:function(){this.state.weights.toString();var e="";return 1==this.state.label&&(e="Provide positive reinforcement message"),-1==this.state.label&&(e="Contact first level support. Suggest self-care activity"),-3==this.state.label&&(e="Contact entire support network. Provide crisis intervention resources"),r.a.createElement("div",{style:Ee.wrapper},r.a.createElement("div",{style:Ee.container},r.a.createElement(L.a,{id:"journalText",label:"How are you feeling today?",multiline:!0,value:this.state.journalEntry,variant:"outlined",style:Ee.journal,rows:25,onChange:this.handleChange}),r.a.createElement(d.a,{onClick:this.onSubmitRating,style:Ee.buttonStyle,variant:"contained",color:"primary"},"Submit"),this.props.openAnalysisTab&&r.a.createElement(d.a,{onClick:this.openDialog,style:Ee.buttonStyle,variant:"contained",color:"primary"},"ReWeight")),this.props.openAnalysisTab&&r.a.createElement("div",{style:Ee.container},r.a.createElement(R.a,{elevation:0,variant:"outlined",style:Ee.analysis},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingFetch?"Loading...":"Sentiment Label: "+this.state.labelText})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:"Sentiment Entities: "+this.state.entities.toString()})),r.a.createElement(b.a,null),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:"Action: "+e})),r.a.createElement(b.a,null),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Weights: "+this.state.weights})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Journal Calculated Score: "+this.state.calculatedText})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Personal Rated Score:"+this.state.ratingLabel})))),r.a.createElement(le,{data:this.state.data}),r.a.createElement(te,{dialogOpen:this.state.dialogOpen,onSubmit:this.fetchReWeight,onRatingChange:this.onRatingChange})))}}]),a}(r.a.Component),Ee={wrapper:{display:"flex",flex:1,margin:80},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},buttonStyle:{margin:20},container:{flex:1,margin:10},analysis:{backgroundColor:"rgba(209, 179, 196, 1)"}},ve=a(495),Se=a(496),we=a(503),xe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.pending?"!":this.props.name.charAt(0),t={backgroundColor:this.props.index%2==0?p:h};return r.a.createElement(ve.a,{style:je.card},r.a.createElement(Se.a,{style:je.cardContent},r.a.createElement("div",{style:je.cardElement},r.a.createElement(we.a,{style:t},e)),r.a.createElement("div",{style:je.cardElement},this.props.name),r.a.createElement("div",{style:je.cardElement},this.props.phonenumber)))}}]),a}(r.a.Component),je={card:{flex:1,marginTop:20,marginLeft:100,marginRight:100,backgroundColor:"rgba(237, 219, 217, 0.6)"},cardContent:{display:"flex",flex:1,flexDirection:"row"},cardElement:{display:"flex",flex:1}},ke=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=[{id:12,name:"Aldyn C",phonenumber:"2506743362",supportlevel:3},{id:4,name:"Mom",phonenumber:"1234567890",supportlevel:1},{id:5,name:"Casey",phonenumber:"1234567890",supportlevel:1}].map((function(e,t){return r.a.createElement(xe,{name:e.name,index:t,key:t,id:e.id,phonenumber:e.phonenumber})}));return r.a.createElement("div",{style:Ce.wrapper},r.a.createElement("div",null),r.a.createElement("div",null,e))}}]),a}(r.a.Component),Ce={wrapper:{flex:1,margin:100}},Oe=a(444),Te=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeNavPage=function(e){n.setState({navPage:e})},n.toggleOpenAnalysisTab=function(){n.setState({openAnalysisTab:!n.state.openAnalysisTab})},n.state={navPage:"Journal",userId:1,openAnalysisTab:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:Ae.base},r.a.createElement("div",{style:Ae.header},r.a.createElement("div",{style:Ae.navcontainer},r.a.createElement(N,{changeNavPage:this.changeNavPage,toggleOpenAnalysisTab:this.toggleOpenAnalysisTab})),r.a.createElement("div",{style:Ae.imgcontainer},r.a.createElement("img",{src:Oe,style:Ae.img}))),"Journal"==this.state.navPage&&r.a.createElement(ye,{userId:this.state.userId,openAnalysisTab:this.state.openAnalysisTab}),"Support Network"==this.state.navPage&&r.a.createElement(ke,{userId:this.state.userId}))}}]),a}(r.a.Component),Ae={base:{flex:1},wrapper:{flex:1,margin:"80 100"},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},img:{width:"150px"},header:{display:"flex",justifyContent:"flex-start",marginTop:10},navcontainer:{marginTop:30,marginLeft:10},imgcontainer:{flex:"0 1 auto",width:"150px",height:"100px",position:"absolute",left:"50%",transform:"translateX(-50%)"}},Ne=a(211),De=Object(Ne.a)({palette:{primary:{main:p},secondary:{main:m}}}),Le=a(497);var Re=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Le.a,{theme:De},r.a.createElement(Te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[257,1,2]]]);
//# sourceMappingURL=main.7cfd6e48.chunk.js.map