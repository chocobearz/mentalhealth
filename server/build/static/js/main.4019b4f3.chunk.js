(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},105:function(e,t,a){},111:function(e,t,a){e.exports=a.p+"static/media/logo.dd8020ab.png"},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),l=(a(103),a(104),a(105),a(14)),s=a(15),c=a(18),u=a(17),p="#735D78",m="#F7D1CD",h="#D1B3C4",g=a(167),d=a(153),f=a(154),b=a(155),y=a(71),v=a.n(y),E=a(73),w=a.n(E),S=a(72),j=a.n(S),x=a(74),k=a.n(x),C=a(148),O=a(151),T=a(152),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onNavClick=function(){n.props.onNavClick(n.props.id)},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(C.a,{button:!0,onClick:this.onNavClick},r.a.createElement(O.a,null," ",this.props.icon," "),r.a.createElement(T.a,{primary:this.props.id}))}}]),a}(r.a.Component),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){n.setState({navOpen:!n.state.navOpen})},n.handleClose=function(){},n.onNavClick=function(e){n.props.changeNavPage(e),n.setState({navOpen:!1})},n.toggleAnalysis=function(){n.props.toggleOpenAnalysisTab(),n.setState({navOpen:!1})},n.state={navOpen:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:R.navWrapper},r.a.createElement(d.a,{onClick:this.toggleDrawer},r.a.createElement(v.a,{fontSize:"large"})),r.a.createElement(g.a,{anchor:"left",open:this.state.navOpen,onClose:this.toggleDrawer},r.a.createElement(f.a,null,r.a.createElement(A,{id:"Journal",onNavClick:this.onNavClick,icon:r.a.createElement(j.a,null)}),r.a.createElement(A,{id:"Support Network",onNavClick:this.onNavClick,icon:r.a.createElement(w.a,null)})),r.a.createElement(b.a,null),r.a.createElement(f.a,null,r.a.createElement(A,{id:"Analysis",text:"Text Analysis",onNavClick:this.toggleAnalysis,icon:r.a.createElement(k.a,null)}))))}}]),a}(r.a.Component),R={navWrapper:{display:"flex",justifyContent:"flex-start"}},D=a(164),J=a(85),P=a(82),L=a(157),I=a(158),W=a(42),V=a(159),z=a(156),F=a(76),H=a.n(F),B=a(77),M=a.n(B),G=a(78),X=a.n(G),_=a(79),K=a.n(_),$=a(80),q=a.n($),Q=a(166),U=a(165),Y=a(160);function Z(e){var t=ae();return r.a.createElement(z.a,{onClose:ee,"aria-labelledby":"customized-dialog-title",open:e.dialogOpen},r.a.createElement(L.a,{id:"customized-dialog-title",onClose:ee},"How are you feeling right now?"),r.a.createElement(I.a,null,r.a.createElement(W.a,null,"This will help us personalize our app's ratings to your journaling style and increase prediction accuracy.")),r.a.createElement(U.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(Q.a,{onChange:e.onRatingChange,classes:{iconFilled:t.iconFilled,iconHover:t.iconHover},name:"customized-icons",defaultValue:3,getLabelText:function(e){return ne[e].label},IconContainerComponent:te})),r.a.createElement(V.a,null,r.a.createElement(d.a,{autoFocus:!0,onClick:e.onSubmit,color:"primary"},"Submit Rating")))}function ee(){}function te(e){var t=e.value,a=Object(P.a)(e,["value"]);return r.a.createElement("span",a,ne[t].icon)}var ae=Object(Y.a)({iconFilled:{color:"#735D78"},iconHover:{color:"#735D78"}}),ne={1:{icon:r.a.createElement(H.a,null),label:"Very Dissatisfied"},2:{icon:r.a.createElement(M.a,null),label:"Dissatisfied"},3:{icon:r.a.createElement(X.a,null),label:"Neutral"},4:{icon:r.a.createElement(K.a,null),label:"Satisfied"},5:{icon:r.a.createElement(q.a,null),label:"Very Satisfied"}},re=a(20),oe=a.n(re),ie=a(37),le="https://ink-well.herokuapp.com",se="https://language.googleapis.com/v1/documents:analyzeEntities";function ce(){return(ce=Object(ie.a)(oe.a.mark((function e(t){var a,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/getSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ue(){return(ue=Object(ie.a)(oe.a.mark((function e(t){var a,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(se+"?key=AIzaSyBt7uIyp2Lsmr37nCdce_8wVi389uJjmIc",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({document:{type:"PLAIN_TEXT",language:"EN",content:t}})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function pe(){return(pe=Object(ie.a)(oe.a.mark((function e(t,a){var n,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/reWeightAndGetSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t,ratedScore:a})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",r);case 11:if(r.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(r.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function me(){return(me=Object(ie.a)(oe.a.mark((function e(){var t,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/sendSMS",{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,!t.ok){e.next=11;break}return e.abrupt("return",a);case 11:if(a.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(a.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function he(){return(he=Object(ie.a)(oe.a.mark((function e(t){var a,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/submitSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}var ge=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){clearTimeout(n.timer),n.setState({journalEntry:e.target.value}),n.timer=setTimeout(n.triggerChange,1e3)},n.handleKeyDown=function(e){13===e.keyCode&&n.triggerChange()},n.triggerChange=function(){n.textFieldChange()},n.textFieldChange=function(){n.fetchJournalScore(),n.fetchJournalEntities()},n.fetchJournalEntities=function(){var e=[];(function(e){return ue.apply(this,arguments)})(n.state.journalEntry).then((function(t){for(var a in t.entities).2<t.entities[a].salience&&t.entities[a].salience<.7&&e.push(t.entities[a].name);n.setState({entities:e})}),(function(e){}))},n.fetchJournalScore=function(){(function(e){return ce.apply(this,arguments)})(n.state.journalEntry).then((function(e){e.label>0?n.setState({calculatedText:"happy"}):e<-3?n.setState({calculatedText:"sad"}):n.setState({calculatedText:"crisis"}),n.setState({label:e.label,longtermScore:e.longtermScore})}),(function(e){}))},n.onSubmitRating=function(){(function(e){return he.apply(this,arguments)})(n.state.journalEntry).then((function(e){-3==e.label&&function(){me.apply(this,arguments)}(),n.setState({label:e.label,longtermScore:e.longtermScore})}),(function(e){}))},n.onRatingChange=function(e,t){t>0?n.setState({ratingLabel:"happy"}):t<-3?n.setState({ratingLabel:"sad"}):n.setState({ratingLabel:"crisis"}),n.setState({ratingValue:t})},n.openDialog=function(){n.setState({dialogOpen:!0})},n.fetchReWeight=function(){n.setState({dialogOpen:!1}),n.setState({loadingReweight:!0}),function(e,t){return pe.apply(this,arguments)}(n.state.journalEntry,n.state.ratingValue).then((function(e){e.journalScore>0?n.setState({labelText:"happy"}):e<-3?n.setState({labelText:"sad"}):n.setState({labelText:"crisis"}),n.setState({personalRatedScore:e.currentScore}),n.setState({calculatedScore:e.journalScore}),n.setState({weights:e.weights}),n.setState({loadingReweight:!1})}),(function(e){}))},n.state={journalEntry:"",label:0,labelText:"",entities:[],weights:[],ratingValue:3,dialogOpen:!1,personalRatedScore:"",calculatedScore:"",calculatedText:"",loadingReweight:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.timer=null}},{key:"render",value:function(){this.state.weights.toString();var e="";return 1==this.state.label&&(e="Provide positive reinforcement message"),-1==this.state.label&&(e="Contact first level support. Suggest self-care activity"),-3==this.state.label&&(e="Contact entire support network. Provide crisis intervention resources"),r.a.createElement("div",{style:de.wrapper},r.a.createElement("div",{style:de.container},r.a.createElement(D.a,{id:"journalText",label:"How are you feeling today?",multiline:!0,value:this.state.journalEntry,variant:"outlined",style:de.journal,rows:25,onChange:this.handleChange}),r.a.createElement(d.a,{onClick:this.onSubmitRating,style:de.buttonStyle,variant:"contained",color:"primary"},"Submit"),this.props.openAnalysisTab&&r.a.createElement(d.a,{onClick:this.openDialog,style:de.buttonStyle,variant:"contained",color:"primary"},"ReWeight")),this.props.openAnalysisTab&&r.a.createElement("div",{style:de.container},r.a.createElement(J.a,{elevation:0,variant:"outlined",style:de.analysis},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:"Sentiment Label: "+this.state.labelText})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:"Sentiment Entities: "+this.state.entities.toString()})),r.a.createElement(b.a,null),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:"Action: "+e})),r.a.createElement(b.a,null),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Weights: "+this.state.weights})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Journal Calculated Score: "+this.state.calculatedText})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Personal Rated Score:"+this.state.ratingValue})))),r.a.createElement(Z,{dialogOpen:this.state.dialogOpen,onSubmit:this.fetchReWeight,onRatingChange:this.onRatingChange})))}}]),a}(r.a.Component),de={wrapper:{display:"flex",flex:1,margin:80},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},buttonStyle:{margin:20},container:{flex:1,margin:10},analysis:{backgroundColor:"rgba(209, 179, 196, 1)"}},fe=a(161),be=a(162),ye=a(169),ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.pending?"!":this.props.name.charAt(0),t={backgroundColor:this.props.index%2==0?p:h};return r.a.createElement(fe.a,{style:Ee.card},r.a.createElement(be.a,{style:Ee.cardContent},r.a.createElement("div",{style:Ee.cardElement},r.a.createElement(ye.a,{style:t},e)),r.a.createElement("div",{style:Ee.cardElement},this.props.name),r.a.createElement("div",{style:Ee.cardElement},this.props.phonenumber)))}}]),a}(r.a.Component),Ee={card:{flex:1,marginTop:20,marginLeft:100,marginRight:100,backgroundColor:"rgba(237, 219, 217, 0.6)"},cardContent:{display:"flex",flex:1,flexDirection:"row"},cardElement:{display:"flex",flex:1}},we=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=[{id:12,name:"Jesse Elm",phonenumber:"1234567890",supportlevel:3},{id:4,name:"Mom",phonenumber:"1234567890",supportlevel:1},{id:5,name:"Casey",phonenumber:"1234567890",supportlevel:1}].map((function(e,t){return r.a.createElement(ve,{name:e.name,index:t,key:t,id:e.id,phonenumber:e.phonenumber})}));return r.a.createElement("div",{style:Se.wrapper},r.a.createElement("div",null),r.a.createElement("div",null,e))}}]),a}(r.a.Component),Se={wrapper:{flex:1,margin:100}},je=a(111),xe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeNavPage=function(e){n.setState({navPage:e})},n.toggleOpenAnalysisTab=function(){n.setState({openAnalysisTab:!n.state.openAnalysisTab})},n.state={navPage:"Journal",userId:1,openAnalysisTab:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:ke.base},r.a.createElement("div",{style:ke.header},r.a.createElement("div",{style:ke.navcontainer},r.a.createElement(N,{changeNavPage:this.changeNavPage,toggleOpenAnalysisTab:this.toggleOpenAnalysisTab})),r.a.createElement("div",{style:ke.imgcontainer},r.a.createElement("img",{src:je,style:ke.img}))),"Journal"==this.state.navPage&&r.a.createElement(ge,{userId:this.state.userId,openAnalysisTab:this.state.openAnalysisTab}),"Support Network"==this.state.navPage&&r.a.createElement(we,{userId:this.state.userId}))}}]),a}(r.a.Component),ke={base:{flex:1},wrapper:{flex:1,margin:"80 100"},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},img:{width:"150px"},header:{display:"flex",justifyContent:"flex-start",marginTop:10},navcontainer:{marginTop:30,marginLeft:10},imgcontainer:{flex:"0 1 auto",width:"150px",height:"100px",position:"absolute",left:"50%",transform:"translateX(-50%)"}},Ce=a(81),Oe=Object(Ce.a)({palette:{primary:{main:p},secondary:{main:m}}}),Te=a(163);var Ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Te.a,{theme:Oe},r.a.createElement(xe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,a){e.exports=a(112)}},[[98,1,2]]]);
//# sourceMappingURL=main.4019b4f3.chunk.js.map