(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},105:function(e,t,n){},111:function(e,t,n){e.exports=n.p+"static/media/logo.dd8020ab.png"},112:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),l=(n(103),n(104),n(105),n(14)),s=n(15),c=n(18),u=n(17),p="#735D78",m="#F7D1CD",h="#D1B3C4",g=n(167),d=n(153),f=n(154),b=n(155),y=n(71),v=n.n(y),E=n(73),w=n.n(E),S=n(72),j=n.n(S),k=n(74),C=n.n(k),x=n(148),O=n(151),T=n(152),A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onNavClick=function(){a.props.onNavClick(a.props.id)},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(x.a,{button:!0,onClick:this.onNavClick},r.a.createElement(O.a,null," ",this.props.icon," "),r.a.createElement(T.a,{primary:this.props.id}))}}]),n}(r.a.Component),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).toggleDrawer=function(e){a.setState({navOpen:!a.state.navOpen})},a.handleClose=function(){},a.onNavClick=function(e){a.props.changeNavPage(e),a.setState({navOpen:!1})},a.toggleAnalysis=function(){a.props.toggleOpenAnalysisTab(),a.setState({navOpen:!1})},a.state={navOpen:!1},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:R.navWrapper},r.a.createElement(d.a,{onClick:this.toggleDrawer},r.a.createElement(v.a,{fontSize:"large"})),r.a.createElement(g.a,{anchor:"left",open:this.state.navOpen,onClose:this.toggleDrawer},r.a.createElement(f.a,null,r.a.createElement(A,{id:"Journal",onNavClick:this.onNavClick,icon:r.a.createElement(j.a,null)}),r.a.createElement(A,{id:"Support Network",onNavClick:this.onNavClick,icon:r.a.createElement(w.a,null)})),r.a.createElement(b.a,null),r.a.createElement(f.a,null,r.a.createElement(A,{id:"Analysis",text:"Text Analysis",onNavClick:this.toggleAnalysis,icon:r.a.createElement(C.a,null)}))))}}]),n}(r.a.Component),R={navWrapper:{display:"flex",justifyContent:"flex-start"}},L=n(164),D=n(85),J=n(82),P=n(157),I=n(158),W=n(42),V=n(159),z=n(156),F=n(76),H=n.n(F),B=n(77),M=n.n(B),G=n(78),X=n.n(G),_=n(79),K=n.n(_),$=n(80),q=n.n($),Q=n(166),U=n(165),Y=n(160);function Z(e){var t=ne();return r.a.createElement(z.a,{onClose:ee,"aria-labelledby":"customized-dialog-title",open:e.dialogOpen},r.a.createElement(P.a,{id:"customized-dialog-title",onClose:ee},"How are you feeling right now?"),r.a.createElement(I.a,null,r.a.createElement(W.a,null,"This will help us personalize our app's ratings to your journaling style and increase prediction accuracy.")),r.a.createElement(U.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(Q.a,{onChange:e.onRatingChange,classes:{iconFilled:t.iconFilled,iconHover:t.iconHover},name:"customized-icons",defaultValue:3,getLabelText:function(e){return ae[e].label},IconContainerComponent:te})),r.a.createElement(V.a,null,r.a.createElement(d.a,{autoFocus:!0,onClick:e.onSubmit,color:"primary"},"Submit Rating")))}function ee(){}function te(e){var t=e.value,n=Object(J.a)(e,["value"]);return r.a.createElement("span",n,ae[t].icon)}var ne=Object(Y.a)({iconFilled:{color:"#735D78"},iconHover:{color:"#735D78"}}),ae={1:{icon:r.a.createElement(H.a,null),label:"Very Dissatisfied"},2:{icon:r.a.createElement(M.a,null),label:"Dissatisfied"},3:{icon:r.a.createElement(X.a,null),label:"Neutral"},4:{icon:r.a.createElement(K.a,null),label:"Satisfied"},5:{icon:r.a.createElement(q.a,null),label:"Very Satisfied"}},re=n(20),oe=n.n(re),ie=n(37),le="https://ink-well.herokuapp.com",se="https://language.googleapis.com/v1/documents:analyzeEntities";function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(ie.a)(oe.a.mark((function e(t){var n,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/getSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",a);case 11:if(a.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(a.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function pe(){return(pe=Object(ie.a)(oe.a.mark((function e(t){var n,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(se+"?key=AIzaSyBt7uIyp2Lsmr37nCdce_8wVi389uJjmIc",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({document:{type:"PLAIN_TEXT",language:"EN",content:t}})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",a);case 11:if(a.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(a.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function me(){return(me=Object(ie.a)(oe.a.mark((function e(t,n){var a,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/reWeightAndGetSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t,ratedScore:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(r=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",r);case 11:if(r.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(r.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function he(){return(he=Object(ie.a)(oe.a.mark((function e(){var t,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/sendSMS",{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,!t.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ge(){return(ge=Object(ie.a)(oe.a.mark((function e(t){var n,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le+"/journal/submitSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(a=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",a);case 11:if(a.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(a.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}var de=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){clearTimeout(a.timer),a.setState({journalEntry:e.target.value}),a.timer=setTimeout(a.triggerChange,1e3)},a.handleKeyDown=function(e){13===e.keyCode&&a.triggerChange()},a.triggerChange=function(){a.textFieldChange()},a.textFieldChange=function(){a.fetchJournalScore(),a.fetchJournalEntities()},a.fetchJournalEntities=function(){var e=[];(function(e){return pe.apply(this,arguments)})(a.state.journalEntry).then((function(t){for(var n in t.entities).2<t.entities[n].salience&&t.entities[n].salience<.7&&e.push(t.entities[n].name);a.setState({entities:e})}),(function(e){}))},a.fetchJournalScore=function(){ce(a.state.journalEntry).then((function(e){a.setState({label:e.label,longtermScore:e.longtermScore})}),(function(e){}))},a.onSubmitRating=function(){(function(e){return ge.apply(this,arguments)})(a.state.journalEntry).then((function(e){-3==e.label&&function(){he.apply(this,arguments)}(),a.setState({label:e.label,longtermScore:e.longtermScore})}),(function(e){}))},a.onRatingChange=function(e,t){t>0?a.setState({ratingLabel:"happy"}):t<-3?a.setState({ratingLabel:"sad"}):a.setState({ratingLabel:"crisis"}),a.setState({ratingValue:t})},a.openDialog=function(){a.setState({dialogOpen:!0})},a.fetchReWeight=function(){a.setState({dialogOpen:!1}),a.setState({loadingReweight:!0}),function(e,t){return me.apply(this,arguments)}(a.state.journalEntry,a.state.ratingValue).then((function(e){a.setState({personalRatedScore:e.currentScore}),a.setState({calculatedScore:e.journalScore}),a.setState({weights:e.weights}),a.setState({loadingReweight:!1})}),(function(e){}))},a.getSentimentScoreLabel=function(e){return function(e){return 0}?"happy":e<-3?"sad":"crisis"},a.state={journalEntry:"",label:0,entities:[],weights:[],ratingValue:3,dialogOpen:!1,personalRatedScore:"",calculatedScore:"",loadingReweight:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.timer=null}},{key:"render",value:function(){this.state.weights.toString();var e="",t=ce(this.state.label);ce(this.state.calculatedScore);return 1==this.state.label&&(e="Provide positive reinforcement message"),-1==this.state.label&&(e="Contact first level support. Suggest self-care activity"),-3==this.state.label&&(e="Contact entire support network. Provide crisis intervention resources"),r.a.createElement("div",{style:fe.wrapper},r.a.createElement("div",{style:fe.container},r.a.createElement(L.a,{id:"journalText",label:"How are you feeling today?",multiline:!0,value:this.state.journalEntry,variant:"outlined",style:fe.journal,rows:25,onChange:this.handleChange}),r.a.createElement(d.a,{onClick:this.onSubmitRating,style:fe.buttonStyle,variant:"contained",color:"primary"},"Submit"),this.props.openAnalysisTab&&r.a.createElement(d.a,{onClick:this.openDialog,style:fe.buttonStyle,variant:"contained",color:"primary"},"ReWeight")),this.props.openAnalysisTab&&r.a.createElement("div",{style:fe.container},r.a.createElement(D.a,{elevation:0,variant:"outlined",style:fe.analysis},r.a.createElement(f.a,null,r.a.createElement(x.a,null,r.a.createElement(T.a,{primary:"Sentiment Label: "+t})),r.a.createElement(x.a,null,r.a.createElement(T.a,{primary:"Sentiment Entities: "+this.state.entities.toString()})),r.a.createElement(b.a,null),r.a.createElement(x.a,null,r.a.createElement(T.a,{primary:"Action: "+e})),r.a.createElement(b.a,null),r.a.createElement(x.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Weights: "+this.state.weights:"Loading..."})),r.a.createElement(x.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Journal Calculated Score: "+this.state.calculatedScoreLabel:"Loading..."})),r.a.createElement(x.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Personal Rated Score:"+this.state.ratingValue:"Loading..."})))),r.a.createElement(Z,{dialogOpen:this.state.dialogOpen,onSubmit:this.fetchReWeight,onRatingChange:this.onRatingChange})))}}]),n}(r.a.Component),fe={wrapper:{display:"flex",flex:1,margin:80},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},buttonStyle:{margin:20},container:{flex:1,margin:10},analysis:{backgroundColor:"rgba(209, 179, 196, 1)"}},be=n(161),ye=n(162),ve=n(169),Ee=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.pending?"!":this.props.name.charAt(0),t={backgroundColor:this.props.index%2==0?p:h};return r.a.createElement(be.a,{style:we.card},r.a.createElement(ye.a,{style:we.cardContent},r.a.createElement("div",{style:we.cardElement},r.a.createElement(ve.a,{style:t},e)),r.a.createElement("div",{style:we.cardElement},this.props.name),r.a.createElement("div",{style:we.cardElement},this.props.phonenumber)))}}]),n}(r.a.Component),we={card:{flex:1,marginTop:20,marginLeft:100,marginRight:100,backgroundColor:"rgba(237, 219, 217, 0.6)"},cardContent:{display:"flex",flex:1,flexDirection:"row"},cardElement:{display:"flex",flex:1}},Se=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=[{id:12,name:"Jesse Elm",phonenumber:"1234567890",supportlevel:3},{id:4,name:"Mom",phonenumber:"1234567890",supportlevel:1},{id:5,name:"Casey",phonenumber:"1234567890",supportlevel:1}].map((function(e,t){return r.a.createElement(Ee,{name:e.name,index:t,key:t,id:e.id,phonenumber:e.phonenumber})}));return r.a.createElement("div",{style:je.wrapper},r.a.createElement("div",null),r.a.createElement("div",null,e))}}]),n}(r.a.Component),je={wrapper:{flex:1,margin:100}},ke=n(111),Ce=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).changeNavPage=function(e){a.setState({navPage:e})},a.toggleOpenAnalysisTab=function(){a.setState({openAnalysisTab:!a.state.openAnalysisTab})},a.state={navPage:"Journal",userId:1,openAnalysisTab:!1},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:xe.base},r.a.createElement("div",{style:xe.header},r.a.createElement("div",{style:xe.navcontainer},r.a.createElement(N,{changeNavPage:this.changeNavPage,toggleOpenAnalysisTab:this.toggleOpenAnalysisTab})),r.a.createElement("div",{style:xe.imgcontainer},r.a.createElement("img",{src:ke,style:xe.img}))),"Journal"==this.state.navPage&&r.a.createElement(de,{userId:this.state.userId,openAnalysisTab:this.state.openAnalysisTab}),"Support Network"==this.state.navPage&&r.a.createElement(Se,{userId:this.state.userId}))}}]),n}(r.a.Component),xe={base:{flex:1},wrapper:{flex:1,margin:"80 100"},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},img:{width:"150px"},header:{display:"flex",justifyContent:"flex-start",marginTop:10},navcontainer:{marginTop:30,marginLeft:10},imgcontainer:{flex:"0 1 auto",width:"150px",height:"100px",position:"absolute",left:"50%",transform:"translateX(-50%)"}},Oe=n(81),Te=Object(Oe.a)({palette:{primary:{main:p},secondary:{main:m}}}),Ae=n(163);var Ne=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ae.a,{theme:Te},r.a.createElement(Ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,n){e.exports=n(112)}},[[98,1,2]]]);
//# sourceMappingURL=main.d3162941.chunk.js.map