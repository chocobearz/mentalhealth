(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},105:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),i=(a(103),a(104),a(105),a(14)),c=a(15),s=a(18),u=a(17),p="#735D78",m="#F7D1CD",h="#D1B3C4",g=a(166),d=a(152),f=a(153),b=a(154),y=a(71),v=a.n(y),E=a(73),w=a.n(E),C=a(72),j=a.n(C),S=a(74),O=a.n(S),k=a(147),x=a(150),T=a(151),A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onNavClick=function(){n.props.onNavClick(n.props.id)},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{button:!0,onClick:this.onNavClick},r.a.createElement(x.a,null," ",this.props.icon," "),r.a.createElement(T.a,{primary:this.props.id}))}}]),a}(r.a.Component),N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){n.setState({navOpen:!n.state.navOpen})},n.handleClose=function(){},n.onNavClick=function(e){n.props.changeNavPage(e),n.setState({navOpen:!1})},n.toggleAnalysis=function(){n.props.toggleOpenAnalysisTab(),n.setState({navOpen:!1})},n.state={navOpen:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:D.navWrapper},r.a.createElement(d.a,{onClick:this.toggleDrawer},r.a.createElement(v.a,{fontSize:"large"})),r.a.createElement(g.a,{anchor:"left",open:this.state.navOpen,onClose:this.toggleDrawer},r.a.createElement(f.a,null,r.a.createElement(A,{id:"Journal",onNavClick:this.onNavClick,icon:r.a.createElement(j.a,null)}),r.a.createElement(A,{id:"Support Network",onNavClick:this.onNavClick,icon:r.a.createElement(w.a,null)})),r.a.createElement(b.a,null),r.a.createElement(f.a,null,r.a.createElement(A,{id:"Analysis",text:"Text Analysis",onNavClick:this.toggleAnalysis,icon:r.a.createElement(O.a,null)}))))}}]),a}(r.a.Component),D={navWrapper:{display:"flex",justifyContent:"flex-start"}},J=a(163),P=a(85),R=a(82),I=a(156),W=a(157),L=a(41),z=a(158),F=a(155),V=a(76),H=a.n(V),B=a(77),M=a.n(B),_=a(78),G=a.n(_),K=a(79),X=a.n(K),$=a(80),q=a.n($),Q=a(165),U=a(164),Y=a(159);function Z(e){var t=ae();return r.a.createElement(F.a,{onClose:ee,"aria-labelledby":"customized-dialog-title",open:e.dialogOpen},r.a.createElement(I.a,{id:"customized-dialog-title",onClose:ee},"How are you feeling right now?"),r.a.createElement(W.a,null,r.a.createElement(L.a,null,"This will help us personalize our app's ratings to your journaling style and increase prediction accuracy.")),r.a.createElement(U.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(Q.a,{onChange:e.onRatingChange,classes:{iconFilled:t.iconFilled,iconHover:t.iconHover},name:"customized-icons",defaultValue:3,getLabelText:function(e){return ne[e].label},IconContainerComponent:te})),r.a.createElement(z.a,null,r.a.createElement(d.a,{autoFocus:!0,onClick:e.onSubmit,color:"primary"},"Submit Rating")))}function ee(){}function te(e){var t=e.value,a=Object(R.a)(e,["value"]);return r.a.createElement("span",a,ne[t].icon)}var ae=Object(Y.a)({iconFilled:{color:"#735D78"},iconHover:{color:"#735D78"}}),ne={1:{icon:r.a.createElement(H.a,null),label:"Very Dissatisfied"},2:{icon:r.a.createElement(M.a,null),label:"Dissatisfied"},3:{icon:r.a.createElement(G.a,null),label:"Neutral"},4:{icon:r.a.createElement(X.a,null),label:"Satisfied"},5:{icon:r.a.createElement(q.a,null),label:"Very Satisfied"}},re=a(32),oe=a.n(re),le=a(55),ie="https://mental-health-node-app.herokuapp.com",ce="https://language.googleapis.com/v1/documents:analyzeEntities";function se(){return(se=Object(le.a)(oe.a.mark((function e(t){var a,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ie+"/journal/getSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ue(){return(ue=Object(le.a)(oe.a.mark((function e(t){var a,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ce+"?key=AIzaSyBt7uIyp2Lsmr37nCdce_8wVi389uJjmIc",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({document:{type:"PLAIN_TEXT",language:"EN",content:t}})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function pe(){return(pe=Object(le.a)(oe.a.mark((function e(t,a){var n,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ie+"/journal/reWeightAndGetSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t,ratedScore:a})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",r);case 11:if(r.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(r.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}var me=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){clearTimeout(n.timer),n.setState({journalEntry:e.target.value}),n.timer=setTimeout(n.triggerChange,1e3)},n.handleKeyDown=function(e){13===e.keyCode&&n.triggerChange()},n.triggerChange=function(){n.textFieldChange()},n.textFieldChange=function(){n.fetchJournalScore(),n.fetchJournalEntities()},n.fetchJournalEntities=function(){var e=[];(function(e){return ue.apply(this,arguments)})(n.state.journalEntry).then((function(t){for(var a in t.entities).3<t.entities[a].salience&&t.entities[a].salience<.7&&e.push(t.entities[a].name);n.setState({entities:e})}),(function(e){}))},n.fetchJournalScore=function(){(function(e){return se.apply(this,arguments)})(n.state.journalEntry).then((function(e){n.setState({label:e.label})}),(function(e){}))},n.onRatingChange=function(e,t){n.setState({ratingValue:t})},n.openDialog=function(){n.setState({dialogOpen:!0})},n.fetchReWeight=function(){(function(e,t){return pe.apply(this,arguments)})(n.state.journalEntry,n.state.ratingValue).then((function(e){n.setState({dialogOpen:!1}),n.setState({personalRatedScore:e.currentScore}),n.setState({calculatedScore:e.journalScore}),n.setState({weights:e.weights})}),(function(e){}))},n.state={journalEntry:"",label:0,entities:[],weights:[],ratingValue:3,dialogOpen:!1,personalRatedScore:"",calculatedScore:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.timer=null}},{key:"render",value:function(){this.state.entities.toString(),this.state.weights.toString();var e="";return 0==this.state.label&&(e="No action"),-2==this.state.label&&(e="Contact first level support. Suggest self-care activity"),-3==this.state.label&&(e="Contact entire support network. Provide crisis intervention resources"),r.a.createElement("div",{style:he.wrapper},r.a.createElement("div",{style:he.container},r.a.createElement(J.a,{id:"journalText",label:"How are you feeling today?",multiline:!0,value:this.state.journalEntry,variant:"outlined",style:he.journal,rows:25,onChange:this.handleChange}),r.a.createElement(d.a,{style:he.buttonStyle,variant:"contained",color:"primary"},"Submit"),this.props.openAnalysisTab&&r.a.createElement(d.a,{onClick:this.openDialog,style:he.buttonStyle,variant:"contained",color:"primary"},"ReWeight")),this.props.openAnalysisTab&&r.a.createElement("div",{style:he.container},r.a.createElement(P.a,{elevation:0,variant:"outlined",style:he.analysis},r.a.createElement(f.a,null,r.a.createElement(k.a,null,r.a.createElement(T.a,{primary:"Sentiment Label: "+this.state.label})),r.a.createElement(k.a,null,r.a.createElement(T.a,{primary:"Sentiment Entities: "+this.state.entityList})),r.a.createElement(b.a,null),r.a.createElement(k.a,null,r.a.createElement(T.a,{primary:"Action: "+e})),r.a.createElement(b.a,null),r.a.createElement(k.a,null,r.a.createElement(T.a,{primary:"Weights: "+this.state.weights})),r.a.createElement(k.a,null,r.a.createElement(T.a,{primary:"Journal Calculated Score: "+this.statecalculatedScore})),r.a.createElement(k.a,null,r.a.createElement(T.a,{primary:"Personal Rated Score:"+this.state.personalRatedScore})))),r.a.createElement(Z,{dialogOpen:this.state.dialogOpen,onSubmit:this.fetchReWeight,onRatingChange:this.onRatingChange})))}}]),a}(r.a.Component),he={wrapper:{display:"flex",flex:1,margin:80},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},buttonStyle:{margin:20},container:{flex:1,margin:10},analysis:{backgroundColor:"rgba(209, 179, 196, 1)"}},ge=a(160),de=a(161),fe=a(168),be=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.pending?"!":this.props.name.charAt(0),t={backgroundColor:this.props.index%2==0?p:h};return r.a.createElement(ge.a,{style:ye.card},r.a.createElement(de.a,{style:ye.cardContent},r.a.createElement("div",{style:ye.cardElement},r.a.createElement(fe.a,{style:t},e)),r.a.createElement("div",{style:ye.cardElement},this.props.name),r.a.createElement("div",{style:ye.cardElement},this.props.phonenumber)))}}]),a}(r.a.Component),ye={card:{flex:1,marginTop:20,marginLeft:100,marginRight:100,backgroundColor:"rgba(237, 219, 217, 0.6)"},cardContent:{display:"flex",flex:1,flexDirection:"row"},cardElement:{display:"flex",flex:1}},ve=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=[{id:12,name:"Jesse Elm",phonenumber:"1234567890",supportlevel:3},{id:4,name:"Mom",phonenumber:"1234567890",supportlevel:1},{id:5,name:"Casey",phonenumber:"1234567890",supportlevel:1}].map((function(e,t){return r.a.createElement(be,{name:e.name,index:t,key:t,id:e.id,phonenumber:e.phonenumber})}));return r.a.createElement("div",{style:Ee.wrapper},r.a.createElement("div",null),r.a.createElement("div",null,e))}}]),a}(r.a.Component),Ee={wrapper:{flex:1,margin:100}},we=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeNavPage=function(e){n.setState({navPage:e})},n.toggleOpenAnalysisTab=function(){n.setState({openAnalysisTab:!n.state.openAnalysisTab})},n.state={navPage:"Journal",userId:1,openAnalysisTab:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:Ce.base},r.a.createElement(N,{changeNavPage:this.changeNavPage,toggleOpenAnalysisTab:this.toggleOpenAnalysisTab}),r.a.createElement("h2",null,this.state.navPage),"Journal"==this.state.navPage&&r.a.createElement(me,{userId:this.state.userId,openAnalysisTab:this.state.openAnalysisTab}),"Support Network"==this.state.navPage&&r.a.createElement(ve,{userId:this.state.userId}))}}]),a}(r.a.Component),Ce={base:{flex:1},wrapper:{flex:1,margin:"80 100"},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"}},je=a(81),Se=Object(je.a)({palette:{primary:{main:p},secondary:{main:m}}}),Oe=a(162);var ke=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Oe.a,{theme:Se},r.a.createElement(we,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,a){e.exports=a(111)}},[[98,1,2]]]);
//# sourceMappingURL=main.cab48e30.chunk.js.map