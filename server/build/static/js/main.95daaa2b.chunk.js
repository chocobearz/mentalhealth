(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},106:function(e,t,a){},112:function(e,t,a){e.exports=a.p+"static/media/logo.dd8020ab.png"},113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),l=(a(104),a(105),a(106),a(14)),s=a(15),c=a(18),u=a(17),p="#735D78",m="#F7D1CD",g="#D1B3C4",h=a(168),d=a(154),f=a(155),b=a(156),y=a(71),v=a.n(y),E=a(73),w=a.n(E),S=a(72),j=a.n(S),x=a(74),k=a.n(x),C=a(149),O=a(152),T=a(153),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onNavClick=function(){n.props.onNavClick(n.props.id)},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(C.a,{button:!0,onClick:this.onNavClick},r.a.createElement(O.a,null," ",this.props.icon," "),r.a.createElement(T.a,{primary:this.props.id}))}}]),a}(r.a.Component),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){n.setState({navOpen:!n.state.navOpen})},n.handleClose=function(){},n.onNavClick=function(e){n.props.changeNavPage(e),n.setState({navOpen:!1})},n.toggleAnalysis=function(){n.props.toggleOpenAnalysisTab(),n.setState({navOpen:!1})},n.state={navOpen:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:L.navWrapper},r.a.createElement(d.a,{onClick:this.toggleDrawer},r.a.createElement(v.a,{fontSize:"large"})),r.a.createElement(h.a,{anchor:"left",open:this.state.navOpen,onClose:this.toggleDrawer},r.a.createElement(f.a,null,r.a.createElement(A,{id:"Journal",onNavClick:this.onNavClick,icon:r.a.createElement(j.a,null)}),r.a.createElement(A,{id:"Support Network",onNavClick:this.onNavClick,icon:r.a.createElement(w.a,null)})),r.a.createElement(b.a,null),r.a.createElement(f.a,null,r.a.createElement(A,{id:"Analysis",text:"Text Analysis",onNavClick:this.toggleAnalysis,icon:r.a.createElement(k.a,null)}))))}}]),a}(r.a.Component),L={navWrapper:{display:"flex",justifyContent:"flex-start"}},R=a(165),D=a(86),J=a(83),P=a(158),V=a(159),F=a(42),I=a(160),W=a(157),z=a(77),H=a.n(z),B=a(78),M=a.n(B),G=a(79),X=a.n(G),_=a(80),K=a.n(_),$=a(81),q=a.n($),Q=a(76),U=a.n(Q),Y=a(167),Z=a(166),ee=a(161);function te(e){var t=re();return r.a.createElement(W.a,{onClose:ae,"aria-labelledby":"customized-dialog-title",open:e.dialogOpen},r.a.createElement(P.a,{id:"customized-dialog-title",onClose:ae},"How are you feeling right now?"),r.a.createElement(V.a,null,r.a.createElement(F.a,null,"This will help us personalize our app's ratings to your journaling style and increase prediction accuracy.")),r.a.createElement(Z.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(Y.a,{onChange:e.onRatingChange,classes:{iconFilled:t.iconFilled,iconHover:t.iconHover},name:"customized-icons",defaultValue:3,getLabelText:function(e){return ie[e].label},IconContainerComponent:ne})),r.a.createElement(I.a,null,r.a.createElement(d.a,{autoFocus:!0,onClick:e.onSubmit,color:"primary"},"Submit Rating")))}function ae(){}function ne(e){var t=e.value,a=Object(J.a)(e,["value"]);return r.a.createElement("span",a,ie[t].icon)}var re=Object(ee.a)({iconFilled:{color:"#735D78"},iconHover:{color:"#735D78"}}),ie={0:{icon:r.a.createElement(U.a,null),label:"Very Very Dissatisfied"},1:{icon:r.a.createElement(H.a,null),label:"Very Dissatisfied"},2:{icon:r.a.createElement(M.a,null),label:"Dissatisfied"},3:{icon:r.a.createElement(X.a,null),label:"Neutral"},4:{icon:r.a.createElement(K.a,null),label:"Satisfied"},5:{icon:r.a.createElement(q.a,null),label:"Very Satisfied"}},oe=a(21),le=a.n(oe),se=a(37),ce="https://ink-well.herokuapp.com",ue="https://language.googleapis.com/v1/documents:analyzeEntities";function pe(){return(pe=Object(se.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ce+"/journal/getSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function me(){return(me=Object(se.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ue+"?key=AIzaSyBt7uIyp2Lsmr37nCdce_8wVi389uJjmIc",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({document:{type:"PLAIN_TEXT",language:"EN",content:t}})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ge(){return(ge=Object(se.a)(le.a.mark((function e(t,a){var n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ce+"/journal/reWeightAndGetSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t,ratedScore:a})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",r);case 11:if(r.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(r.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function he(){return(he=Object(se.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ce+"/journal/sendSMS",{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,!t.ok){e.next=11;break}return e.abrupt("return",a);case 11:if(a.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(a.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function de(){return(de=Object(se.a)(le.a.mark((function e(t){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ce+"/journal/submitSentimentLabel",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({journalEntry:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,!a.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(n.message){e.next=15;break}throw new Error("Something went wrong");case 15:throw new Error(n.message);case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}var fe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){clearTimeout(n.timer),n.setState({journalEntry:e.target.value}),n.timer=setTimeout(n.triggerChange,1e3)},n.handleKeyDown=function(e){13===e.keyCode&&n.triggerChange()},n.triggerChange=function(){n.textFieldChange()},n.textFieldChange=function(){n.fetchJournalScore(),n.fetchJournalEntities()},n.fetchJournalEntities=function(){var e=[];(function(e){return me.apply(this,arguments)})(n.state.journalEntry).then((function(t){for(var a in t.entities).2<t.entities[a].salience&&t.entities[a].salience<.7&&e.push(t.entities[a].name);n.setState({entities:e})}),(function(e){}))},n.fetchJournalScore=function(){n.setState({loadingFetch:!0}),function(e){return pe.apply(this,arguments)}(n.state.journalEntry).then((function(e){e.label>0?n.setState({labelText:"happy"}):e<-3?n.setState({labelText:"sad"}):n.setState({labelText:"crisis"}),n.setState({label:e.label,longtermScore:e.longtermScore}),n.setState({loadingFetch:!1})}),(function(e){}))},n.onSubmitRating=function(){(function(e){return de.apply(this,arguments)})(n.state.journalEntry).then((function(e){-3==e.label&&function(){he.apply(this,arguments)}(),n.setState({label:e.label,longtermScore:e.longtermScore})}),(function(e){}))},n.onRatingChange=function(e,t){switch(t){case 0:n.setState({ratingLabel:"crisis"}),n.setState({ratingValue:-4});case 1:n.setState({ratingLabel:"sad"}),n.setState({ratingValue:-3});case 2:n.setState({ratingLabel:"sad"}),n.setState({ratingValue:-1});case 3:n.setState({ratingLabel:"sad"}),n.setState({ratingValue:0});case 4:n.setState({ratingLabel:"happy"}),n.setState({ratingValue:1});case 5:n.setState({ratingLabel:"happy"}),n.setState({ratingValue:3})}},n.openDialog=function(){n.setState({dialogOpen:!0})},n.fetchReWeight=function(){n.setState({dialogOpen:!1}),n.setState({loadingReweight:!0}),function(e,t){return ge.apply(this,arguments)}(n.state.journalEntry,n.state.ratingValue).then((function(e){e.journalScore>0?n.setState({calculatedText:"happy"}):e<-3?n.setState({calculatedText:"sad"}):n.setState({calculatedText:"crisis"}),n.setState({personalRatedScore:e.currentScore}),n.setState({calculatedScore:e.journalScore}),n.setState({weights:e.weights}),n.setState({loadingReweight:!1})}),(function(e){}))},n.state={journalEntry:"",label:0,labelText:"",entities:[],weights:[],ratingValue:3,ratingLabel:"",dialogOpen:!1,personalRatedScore:"",calculatedScore:"",calculatedText:"",loadingReweight:!1,loadingFetch:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.timer=null}},{key:"render",value:function(){this.state.weights.toString();var e="";return 1==this.state.label&&(e="Provide positive reinforcement message"),-1==this.state.label&&(e="Contact first level support. Suggest self-care activity"),-3==this.state.label&&(e="Contact entire support network. Provide crisis intervention resources"),r.a.createElement("div",{style:be.wrapper},r.a.createElement("div",{style:be.container},r.a.createElement(R.a,{id:"journalText",label:"How are you feeling today?",multiline:!0,value:this.state.journalEntry,variant:"outlined",style:be.journal,rows:25,onChange:this.handleChange}),r.a.createElement(d.a,{onClick:this.onSubmitRating,style:be.buttonStyle,variant:"contained",color:"primary"},"Submit"),this.props.openAnalysisTab&&r.a.createElement(d.a,{onClick:this.openDialog,style:be.buttonStyle,variant:"contained",color:"primary"},"ReWeight")),this.props.openAnalysisTab&&r.a.createElement("div",{style:be.container},r.a.createElement(D.a,{elevation:0,variant:"outlined",style:be.analysis},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingFetch?"Loading...":"Sentiment Label: "+this.state.labelText})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:"Sentiment Entities: "+this.state.entities.toString()})),r.a.createElement(b.a,null),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:"Action: "+e})),r.a.createElement(b.a,null),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Weights: "+this.state.weights})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Journal Calculated Score: "+this.state.calculatedText})),r.a.createElement(C.a,null,r.a.createElement(T.a,{primary:this.state.loadingReweight?"Loading...":"Personal Rated Score:"+this.state.ratingLabel})))),r.a.createElement(te,{dialogOpen:this.state.dialogOpen,onSubmit:this.fetchReWeight,onRatingChange:this.onRatingChange})))}}]),a}(r.a.Component),be={wrapper:{display:"flex",flex:1,margin:80},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},buttonStyle:{margin:20},container:{flex:1,margin:10},analysis:{backgroundColor:"rgba(209, 179, 196, 1)"}},ye=a(162),ve=a(163),Ee=a(170),we=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.pending?"!":this.props.name.charAt(0),t={backgroundColor:this.props.index%2==0?p:g};return r.a.createElement(ye.a,{style:Se.card},r.a.createElement(ve.a,{style:Se.cardContent},r.a.createElement("div",{style:Se.cardElement},r.a.createElement(Ee.a,{style:t},e)),r.a.createElement("div",{style:Se.cardElement},this.props.name),r.a.createElement("div",{style:Se.cardElement},this.props.phonenumber)))}}]),a}(r.a.Component),Se={card:{flex:1,marginTop:20,marginLeft:100,marginRight:100,backgroundColor:"rgba(237, 219, 217, 0.6)"},cardContent:{display:"flex",flex:1,flexDirection:"row"},cardElement:{display:"flex",flex:1}},je=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){var e=[{id:12,name:"Jesse Elm",phonenumber:"1234567890",supportlevel:3},{id:4,name:"Mom",phonenumber:"1234567890",supportlevel:1},{id:5,name:"Casey",phonenumber:"1234567890",supportlevel:1}].map((function(e,t){return r.a.createElement(we,{name:e.name,index:t,key:t,id:e.id,phonenumber:e.phonenumber})}));return r.a.createElement("div",{style:xe.wrapper},r.a.createElement("div",null),r.a.createElement("div",null,e))}}]),a}(r.a.Component),xe={wrapper:{flex:1,margin:100}},ke=a(112),Ce=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeNavPage=function(e){n.setState({navPage:e})},n.toggleOpenAnalysisTab=function(){n.setState({openAnalysisTab:!n.state.openAnalysisTab})},n.state={navPage:"Journal",userId:1,openAnalysisTab:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:Oe.base},r.a.createElement("div",{style:Oe.header},r.a.createElement("div",{style:Oe.navcontainer},r.a.createElement(N,{changeNavPage:this.changeNavPage,toggleOpenAnalysisTab:this.toggleOpenAnalysisTab})),r.a.createElement("div",{style:Oe.imgcontainer},r.a.createElement("img",{src:ke,style:Oe.img}))),"Journal"==this.state.navPage&&r.a.createElement(fe,{userId:this.state.userId,openAnalysisTab:this.state.openAnalysisTab}),"Support Network"==this.state.navPage&&r.a.createElement(je,{userId:this.state.userId}))}}]),a}(r.a.Component),Oe={base:{flex:1},wrapper:{flex:1,margin:"80 100"},journal:{width:"100%",backgroundColor:"rgba(247, 209, 205, 0.3)"},img:{width:"150px"},header:{display:"flex",justifyContent:"flex-start",marginTop:10},navcontainer:{marginTop:30,marginLeft:10},imgcontainer:{flex:"0 1 auto",width:"150px",height:"100px",position:"absolute",left:"50%",transform:"translateX(-50%)"}},Te=a(82),Ae=Object(Te.a)({palette:{primary:{main:p},secondary:{main:m}}}),Ne=a(164);var Le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ne.a,{theme:Ae},r.a.createElement(Ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){e.exports=a(113)}},[[99,1,2]]]);
//# sourceMappingURL=main.95daaa2b.chunk.js.map